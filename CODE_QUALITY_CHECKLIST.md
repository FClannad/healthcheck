# 代码质量检查清单

## Java后端代码检查清单

### 异常处理
- [ ] 没有空的 catch 块
- [ ] 异常都有适当的日志记录
- [ ] 没有捕获过于宽泛的异常（如 `catch (Exception e)` 用于所有情况）
- [ ] 自定义异常有清晰的命名和文档

### 封装性
- [ ] 所有字段都是私有的（除非有特殊原因）
- [ ] 提供适当的 getter/setter 方法
- [ ] 不暴露内部可变对象的引用
- [ ] 使用不可变对象（where appropriate）

### 代码清洁
- [ ] 没有调试用的 `System.out.println`
- [ ] 没有 `printStackTrace()` 直接输出
- [ ] 删除或完成所有 TODO/FIXME 注释
- [ ] 没有注释掉的代码块

### 类型安全
- [ ] 最小化 `@SuppressWarnings` 的使用
- [ ] 泛型使用正确的类型参数
- [ ] 避免原始类型（raw types）
- [ ] 类型转换有适当的检查

### 代码结构
- [ ] 方法长度合理（建议不超过50行）
- [ ] 类长度合理（建议不超过500行）
- [ ] 单一职责原则（每个类/方法只做一件事）
- [ ] 避免深层嵌套（建议不超过3层）

### 资源管理
- [ ] 使用 try-with-resources 处理可关闭资源
- [ ] 数据库连接正确关闭
- [ ] 文件流正确关闭
- [ ] 线程池正确管理

### 命名规范
- [ ] 类名使用 PascalCase
- [ ] 方法和变量使用 camelCase
- [ ] 常量使用 UPPER_SNAKE_CASE
- [ ] 包名使用小写
- [ ] 名称有意义且描述性强

### 日志
- [ ] 使用 SLF4J 而不是直接使用 Log4j
- [ ] 日志级别正确（DEBUG/INFO/WARN/ERROR）
- [ ] 敏感信息不记录到日志
- [ ] 日志消息清晰有用

### 并发
- [ ] 共享可变状态有适当的同步
- [ ] 避免死锁和竞态条件
- [ ] 使用合适的并发工具类
- [ ] 线程安全性有明确文档

### 性能
- [ ] 没有不必要的对象创建
- [ ] 避免在循环中进行昂贵操作
- [ ] 数据库查询有索引支持
- [ ] 适当使用缓存

### 测试
- [ ] 单元测试覆盖关键业务逻辑
- [ ] 测试名称描述测试内容
- [ ] 测试独立且可重复
- [ ] 边界条件有测试覆盖

## Vue前端代码检查清单

### 调试代码
- [ ] 删除所有调试用的 `console.log`
- [ ] 删除所有 `debugger` 语句
- [ ] 删除测试用的 alert/confirm

### 代码组织
- [ ] 组件大小合理（建议不超过300行）
- [ ] 逻辑复杂的计算使用 computed
- [ ] 异步操作正确处理
- [ ] 组件有清晰的职责

### 样式
- [ ] CSS 类名有意义
- [ ] 避免内联样式
- [ ] 使用 scoped 样式避免污染
- [ ] 响应式设计考虑充分

### 性能
- [ ] 列表渲染使用正确的 key
- [ ] 避免不必要的响应式数据
- [ ] 大列表考虑虚拟滚动
- [ ] 图片懒加载

### 错误处理
- [ ] API 调用有错误处理
- [ ] 错误消息对用户友好
- [ ] 加载状态有提示
- [ ] 边界情况有处理

### 安全
- [ ] 用户输入有验证
- [ ] XSS 防护（v-html 谨慎使用）
- [ ] 敏感数据不存储在 localStorage
- [ ] API 调用有认证

### 代码风格
- [ ] 使用 const/let 而不是 var
- [ ] 箭头函数使用恰当
- [ ] 解构赋值使用恰当
- [ ] 代码格式一致

### 依赖管理
- [ ] 只导入需要的模块
- [ ] 避免循环依赖
- [ ] 未使用的导入已删除
- [ ] 依赖版本明确

## 通用检查清单

### 文档
- [ ] README 更新且准确
- [ ] API 文档完整
- [ ] 复杂逻辑有注释说明
- [ ] 变更日志更新

### 版本控制
- [ ] Commit 消息清晰有意义
- [ ] 一个 commit 一个逻辑变更
- [ ] 敏感信息不提交到仓库
- [ ] .gitignore 配置正确

### 配置
- [ ] 配置文件不含硬编码密码
- [ ] 环境相关配置可切换
- [ ] 默认配置安全且合理
- [ ] 配置有文档说明

### 安全
- [ ] 依赖包无已知漏洞
- [ ] 认证和授权正确实现
- [ ] HTTPS 在生产环境使用
- [ ] 输入验证和清理

## 自动化检查工具

### Java
- Checkstyle: 代码风格检查
- PMD: 代码质量检查
- SpotBugs: Bug 检测
- SonarQube: 综合代码质量分析

### JavaScript/Vue
- ESLint: 代码风格和质量
- Prettier: 代码格式化
- Vue ESLint Plugin: Vue 特定检查
- Lighthouse: 性能和最佳实践

## 使用说明

1. 在代码审查时使用此清单
2. 定期（如每月）对整个代码库进行检查
3. 新功能开发前先审查相关清单项
4. 持续改进清单内容

## 优先级标记

- 🔴 高优先级（必须修复）
- 🟡 中优先级（应该修复）
- 🟢 低优先级（建议改进）

## 检查频率

- **每次提交前**: 调试代码、代码风格
- **每次 PR**: 所有清单项
- **每周**: 代码质量工具扫描
- **每月**: 依赖包安全检查

---

最后更新: 2025年12月
